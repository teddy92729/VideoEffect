#version 300 es
precision highp float;
in vec2 vTextureCoord;
in vec2 vPosition;
uniform sampler2D uTexture;
uniform sampler2D uOTexture;
uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
out vec4 color;

//-------------------------------------------
#define HOOKED_pos      vTextureCoord
#define HOOKED_tex(pos) texture(uTexture, pos)
#define HOOKED_pt       uInputSize.zw
#define HOOKED_size       uInputSize.xy
#define HOOKED_texOff(offset) HOOKED_tex(HOOKED_pos+(offset)*HOOKED_pt)
#define MAIN_pos vPosition
#define MAIN_tex(pos) texture(uOTexture, pos)
//-------------------------------------------

#define go_0(x_off, y_off) (HOOKED_texOff(vec2(x_off, y_off)))
vec4 hook() {
    vec4 result = mat4(0.10922428f, -0.16249932f, 0.15452726f, -0.15669551f, 0.053448875f, -0.16528402f, 0.01697721f, -0.049275912f, 0.20947173f, -0.10576949f, 0.19738325f, -0.025417482f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(-1.0f, -1.0f);
    result += mat4(-0.3285196f, 0.15909512f, -0.5273671f, 0.23778777f, -0.40508887f, -0.0609677f, -0.4188177f, 0.11137456f, -0.24131267f, 0.10453423f, -0.36216277f, 0.053446792f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(-1.0f, 0.0f);
    result += mat4(0.23072472f, -0.082083695f, -0.0041477727f, -0.09136237f, 0.11958912f, -0.312698f, -0.15842685f, -0.013882424f, 0.10933724f, 0.017880991f, -0.022167003f, 0.014662608f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(-1.0f, 1.0f);
    result += mat4(-0.2789985f, 0.054727737f, 0.22577816f, -0.49625716f, -0.48472273f, -0.011525487f, 0.5354349f, -0.08814955f, -0.27021924f, -0.044563178f, 0.008232271f, -0.13480483f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(0.0f, -1.0f);
    result += mat4(-0.18203105f, 0.09277001f, 0.27071548f, -0.17773713f, -0.4335171f, 1.2275106f, -0.07663438f, -0.29020032f, 0.011992759f, 0.060106967f, 0.11002492f, -0.046098012f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(0.0f, 0.0f);
    result += mat4(0.08363418f, 0.063420765f, -0.10278259f, 0.09357691f, 0.38670546f, 0.13577081f, 0.048631024f, -0.024960777f, 0.0846784f, -0.057097007f, 0.06049236f, 0.042082917f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(0.0f, 1.0f);
    result += mat4(0.12315548f, -0.056513585f, -0.09826642f, -0.17079762f, 0.06479095f, -0.36984903f, -0.12512982f, 0.042867575f, 0.08360464f, 0.12835538f, -0.005067881f, 0.02542005f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(1.0f, -1.0f);
    result += mat4(0.18997705f, 0.086363226f, -0.0007131526f, 0.19858918f, 0.39745626f, -0.0090341605f, 0.27864447f, 0.20052041f, 0.010576528f, -0.089242525f, -0.025109483f, -0.030768145f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(1.0f, 0.0f);
    result += mat4(0.05427315f, -0.060894873f, 0.06548642f, 0.095537595f, 0.29116166f, -0.16159569f, -0.13293959f, -0.112566955f, 0.0059667625f, 0.016041303f, 0.03831561f, 0.09869594f, 0.0f, 0.0f, 0.0f, 0.0f) * go_0(1.0f, 1.0f);
    result += vec4(0.0113532655f, -0.06449327f, 0.035503868f, 0.5683031f);
    return result;
}

void main() {
    color = hook();
}
