#version 300 es
precision highp float;
in vec2 vTextureCoord;
in vec2 vPosition;
uniform sampler2D uTexture;
uniform sampler2D uOTexture;
uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
out vec4 color;

//-------------------------------------------
#define HOOKED_pos      vTextureCoord
#define HOOKED_tex(pos) texture(uTexture, pos)
#define HOOKED_pt       uInputSize.zw
#define HOOKED_size       uInputSize.xy
#define HOOKED_texOff(offset) HOOKED_tex(HOOKED_pos+(offset)*HOOKED_pt)
#define MAIN_pos vPosition
#define MAIN_tex(pos) texture(uOTexture, pos)
//-------------------------------------------

#define go_0(x_off, y_off) (max((HOOKED_texOff(vec2(x_off, y_off))), 0.0))
#define go_1(x_off, y_off) (max(-(HOOKED_texOff(vec2(x_off, y_off))), 0.0))
vec4 hook() {
    vec4 result = mat4(0.024004154f, -0.26474997f, -0.5256586f, 0.051624652f, -0.16621786f, 0.2964122f, 0.6044247f, -0.14335106f, 0.17002718f, -0.2679876f, -0.30162668f, 0.1273794f, -0.17601459f, -0.1782376f, 0.104725115f, -0.16351137f) * go_0(-1.0f, -1.0f);
    result += mat4(-0.121676154f, 0.047741555f, -0.06738679f, -0.056402843f, 0.004424971f, -0.35099635f, -0.073440626f, 0.039784692f, 0.15204315f, -0.1165704f, 0.11231046f, -0.27369732f, 0.33737272f, -0.11880767f, 0.09637475f, -0.14709689f) * go_0(-1.0f, 0.0f);
    result += mat4(-0.017987821f, -0.08798823f, -0.062515825f, -0.046803873f, -0.05871703f, 0.27013004f, 0.19397618f, -0.052147817f, 0.003271283f, -0.0029015478f, -0.07390092f, -0.09348337f, -0.1574738f, 0.06750957f, -0.07661155f, 0.054327156f) * go_0(-1.0f, 1.0f);
    result += mat4(-0.15215784f, -0.72508365f, -0.3202069f, 0.20295432f, -0.19125701f, 0.021401431f, -0.051837035f, -0.025939213f, 0.25565025f, -0.12872623f, 0.13169816f, 0.27377388f, -0.008718429f, -0.05864064f, 0.028844763f, 0.1144993f) * go_0(0.0f, -1.0f);
    result += mat4(-0.30012092f, -0.1322455f, -0.11868545f, 0.09857058f, 0.082795605f, -0.075334676f, -0.3752773f, -0.02918163f, -0.67764f, -0.38598236f, -0.21023573f, 0.38274166f, -0.07398165f, -0.07213789f, -0.28427607f, 0.1266569f) * go_0(0.0f, 0.0f);
    result += mat4(-0.37507388f, 0.18809201f, -0.21982779f, 0.27208912f, 0.022066567f, -0.27627763f, 0.12345216f, -0.30041683f, 0.017002959f, -0.091398515f, -0.25207692f, -0.29253414f, -0.08231422f, -0.14665812f, -0.07868529f, -0.24562219f) * go_0(0.0f, 1.0f);
    result += mat4(0.08686712f, 0.080837384f, 0.20736577f, 0.008233064f, 0.14957365f, 0.21801959f, -0.04870689f, 0.42149112f, 0.27255878f, 0.33320278f, -0.08467146f, 0.10381615f, 0.055278245f, 0.085710146f, 0.009097151f, 0.29092705f) * go_0(1.0f, -1.0f);
    result += mat4(0.0012207404f, -0.023874281f, -0.027035477f, 0.005157451f, 0.19330226f, 0.33711615f, -0.16495204f, 0.549021f, 0.44879642f, 0.1978837f, -0.20492741f, 0.28099406f, 0.2631811f, 0.40786585f, -0.055340275f, 0.2575511f) * go_0(1.0f, 0.0f);
    result += mat4(0.29127392f, -0.06287165f, 0.12715077f, 0.14784902f, -0.3183704f, 0.42057636f, -0.11483724f, -0.3019506f, 0.010730576f, 0.29091576f, -0.046116166f, -0.23528357f, -0.0037143505f, 0.1191774f, -0.06084074f, 0.011641706f) * go_0(1.0f, 1.0f);
    result += mat4(-0.2579205f, 0.036545023f, 0.11691888f, 0.04996418f, 0.21318026f, 0.21370813f, -0.14114271f, 0.031217605f, -0.06979331f, -0.0690704f, 0.04618086f, 0.025164584f, -0.10994228f, 0.109930746f, 0.103678934f, 0.12193115f) * go_1(-1.0f, -1.0f);
    result += mat4(-0.19843774f, -0.11237926f, 0.007291354f, 0.16480611f, -0.15669724f, 0.46283355f, 0.077065215f, 0.112273656f, 0.17143534f, -0.19934891f, -0.25481275f, 0.034591813f, -0.27032652f, -0.2702769f, 0.04816228f, -0.031614583f) * go_1(-1.0f, 0.0f);
    result += mat4(-0.16307239f, -0.11295217f, 0.05861256f, 0.14225823f, -0.015648091f, 0.11741865f, 0.113366075f, 0.023935538f, 0.19560932f, -0.10553561f, -0.042583376f, -0.048160724f, -0.3116519f, 0.13957061f, -0.0044852323f, -0.015472912f) * go_1(-1.0f, 1.0f);
    result += mat4(-0.15629178f, 0.06463271f, -0.13176678f, 0.025518289f, -0.021733627f, 0.22236359f, 0.019508492f, -0.11629477f, 0.10801276f, -0.021957984f, -0.11272639f, -0.03615053f, -0.121420704f, 0.2520835f, 0.043395765f, 0.1699031f) * go_1(0.0f, -1.0f);
    result += mat4(0.2886654f, 0.21755892f, 0.21757497f, 0.08442575f, -0.109903164f, -0.67295986f, 0.22886126f, -0.027185453f, 0.3761606f, 0.23199768f, 0.05908783f, -0.1496158f, 0.10832971f, -0.3530352f, 0.20234483f, -0.07615918f) * go_1(0.0f, 0.0f);
    result += mat4(0.11043024f, 0.18943349f, 0.42394367f, 0.029350199f, -0.15085667f, 0.020204183f, -0.081609115f, 0.07907012f, 0.33805525f, 0.0066280114f, 0.0018284445f, 0.022983696f, 0.004984607f, 0.0429299f, -0.14568979f, -0.29143327f) * go_1(0.0f, 1.0f);
    result += mat4(-0.16376027f, -0.20387048f, 0.06522074f, 0.17484841f, -0.13885716f, -0.04380927f, -0.03535832f, -0.16978237f, -0.004799155f, -0.25407305f, -0.039976966f, -0.011992087f, -0.22535577f, -0.09583549f, 0.0334331f, 0.016292758f) * go_1(1.0f, -1.0f);
    result += mat4(-0.38688713f, -0.20232083f, 0.23887886f, -0.10438324f, -0.24170811f, -0.074868314f, 0.03977399f, -0.22810821f, -0.08257971f, -0.11902456f, 0.106009185f, -0.078289054f, -0.11932821f, 0.024207884f, 0.10070917f, 0.79348284f) * go_1(1.0f, 0.0f);
    result += mat4(-0.4018743f, 0.050456528f, 0.035341598f, -0.03788609f, 0.12964934f, -0.44461823f, 0.029031694f, 0.29604837f, -0.102386944f, -0.13805065f, 0.0055692918f, 0.14659804f, -0.22499937f, 0.14680648f, -0.3443954f, -0.06994176f) * go_1(1.0f, 1.0f);
    result += vec4(-0.0063428865f, 0.0057986965f, -0.12526293f, -0.059240736f);
    return result;
}

void main() {
    color = hook();
}