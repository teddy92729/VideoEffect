#version 300 es
precision highp float;
in vec2 vTextureCoord;
in vec2 vPosition;
uniform sampler2D uTexture;
uniform sampler2D uOTexture;
uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
out vec4 color;

//-------------------------------------------
#define HOOKED_pos      vTextureCoord
#define HOOKED_tex(pos) texture(uTexture, pos)
#define HOOKED_pt       uInputSize.zw
#define HOOKED_size       uInputSize.xy
#define HOOKED_texOff(offset) HOOKED_tex(HOOKED_pos+(offset)*HOOKED_pt)
#define MAIN_pos vPosition
#define MAIN_tex(pos) texture(uOTexture, pos)
//-------------------------------------------

#define go_0(x_off, y_off) (max((HOOKED_texOff(vec2(x_off, y_off))), 0.0))
#define go_1(x_off, y_off) (max(-(HOOKED_texOff(vec2(x_off, y_off))), 0.0))
vec4 hook() {
    vec4 result = mat4(-0.027102098f, 0.2640691f, 0.1169015f, 0.030902913f, 0.15404584f, 0.1361459f, -0.38066056f, 0.096569136f, -0.111836195f, -0.0051853824f, -0.0996669f, -0.23538585f, -0.07060754f, -0.18889332f, -0.10793357f, -0.15154232f) * go_0(-1.0f, -1.0f);
    result += mat4(0.1378689f, 0.21024452f, 0.010976513f, 0.0179521f, -0.05993059f, -0.28364083f, 0.24486947f, 0.21347582f, -0.12522404f, -0.16091396f, 0.15499291f, 0.08353191f, -0.03342411f, -0.08964405f, 0.25111282f, -0.07550899f) * go_0(-1.0f, 0.0f);
    result += mat4(-0.06398718f, 0.05763278f, 0.021394925f, 0.14780094f, -0.033050716f, 0.03346528f, -0.0846797f, 0.0125302235f, 0.18018652f, 0.24586707f, 0.050538495f, 0.09879243f, -0.100035876f, 0.043505374f, 0.042692907f, -0.08768257f) * go_0(-1.0f, 1.0f);
    result += mat4(-0.11572878f, 0.0545887f, 0.16437739f, 0.2775331f, 0.10323911f, -0.18938646f, -0.17097469f, -0.188723f, 0.085762165f, 0.14605838f, -0.15568069f, -0.16947642f, 0.09042493f, -0.087587915f, -0.041969277f, 0.27252352f) * go_0(0.0f, -1.0f);
    result += mat4(0.21475963f, -0.018211678f, -0.5711054f, -0.09235345f, -0.20367791f, -0.23041399f, 0.16346097f, 0.007901888f, 0.12542121f, 0.16807431f, 0.09862575f, 0.16968751f, 0.28490388f, 0.40945014f, -0.22364445f, 0.14460565f) * go_0(0.0f, 0.0f);
    result += mat4(0.27512726f, 0.14046481f, -0.17684339f, 0.102218024f, -0.10503195f, 0.3080809f, 0.03681373f, 0.2668656f, -0.093752496f, -0.07476867f, 0.19900662f, 0.06028286f, -0.19815882f, -0.0584525f, 0.027984729f, -0.02143819f) * go_0(0.0f, 1.0f);
    result += mat4(-0.16829525f, -0.06818115f, 0.0006509334f, 0.01163159f, 0.18918815f, -0.10731989f, -0.008126929f, -0.47991323f, -0.11022971f, 0.19150843f, 0.05272113f, -0.34417602f, 0.022882428f, 0.1774031f, 0.062597334f, -0.09915319f) * go_0(1.0f, -1.0f);
    result += mat4(0.32131585f, 0.05668815f, -0.34203658f, 0.05542482f, -0.008077225f, 0.009148517f, 0.10953332f, -0.050969962f, 0.09904077f, 0.46938205f, -0.5148919f, -0.22275375f, -0.10536104f, -0.23662373f, 0.002147416f, -0.14256701f) * go_0(1.0f, 0.0f);
    result += mat4(-0.19335353f, -0.103732094f, 0.17156832f, 0.0059756916f, -0.118641876f, 0.14529023f, -0.18662338f, 0.0447326f, 0.026719248f, 0.042491894f, 0.026437795f, 0.05601309f, 0.08645617f, 0.08365193f, -0.039582565f, 0.16612953f) * go_0(1.0f, 1.0f);
    result += mat4(-0.014315469f, 0.012588422f, 0.037587024f, 0.08707526f, -0.08064868f, -0.28149533f, 0.27326405f, 0.21468583f, -0.04278333f, 0.29369017f, 0.18653142f, 0.035729136f, 0.079363555f, 0.30725953f, 0.0147137f, 0.08527481f) * go_1(-1.0f, -1.0f);
    result += mat4(0.06659263f, 0.03452449f, -0.33752796f, 0.0066543026f, 0.48697233f, 0.019602561f, -0.32033685f, -0.20538871f, 0.3089118f, 0.4315903f, -0.13524854f, -0.10791581f, 0.3315688f, 0.13135147f, -0.26904663f, 0.142365f) * go_1(-1.0f, 0.0f);
    result += mat4(0.13619833f, 0.045271892f, -0.029841429f, 0.010704955f, -0.29257727f, -0.10563375f, 0.35345638f, -0.06734038f, -0.043791633f, -0.0056891907f, -0.078411415f, 0.075443126f, -0.05746597f, -0.19959894f, -0.12797245f, 0.18837726f) * go_1(-1.0f, 1.0f);
    result += mat4(0.25673476f, 0.120482095f, -0.23827696f, -0.13557845f, 0.300447f, -0.3008584f, -0.13834439f, 0.5459493f, -0.26155484f, 0.06905137f, 0.16247983f, 0.039960653f, -0.023218757f, 0.07977591f, -0.11354706f, -0.25831422f) * go_1(0.0f, -1.0f);
    result += mat4(0.0842605f, 0.282916f, 0.14062001f, 0.06356874f, 0.55912817f, 0.1743876f, -0.30324093f, 0.052068707f, -0.20756413f, 0.27321506f, -0.26560605f, -0.27695876f, -0.3927334f, -0.5439608f, 0.39293098f, -0.001130203f) * go_1(0.0f, 0.0f);
    result += mat4(-0.021890296f, -0.12703396f, 0.06660714f, -0.03164527f, 0.0018722567f, -0.26552317f, 0.06978973f, -0.24030049f, 0.46008193f, 0.5595346f, 0.081981994f, -0.038414747f, -0.010446991f, -0.56102365f, -0.079274766f, -0.01851302f) * go_1(0.0f, 1.0f);
    result += mat4(0.052988984f, 0.030581746f, -0.06868741f, 0.21545182f, -0.5706256f, -0.0034910638f, 0.48361364f, 0.9020033f, -0.02242781f, -0.13256042f, 0.08997955f, 0.21001706f, -0.059571438f, -0.040119104f, -0.05029196f, -0.127414f) * go_1(1.0f, -1.0f);
    result += mat4(-0.08275339f, -0.05999088f, 0.11068767f, 0.014646892f, -0.041986465f, 0.1028236f, -0.17218924f, 0.026559748f, -0.17412743f, -0.38364175f, 0.17410514f, 0.13038695f, 0.23155633f, 0.2655843f, 0.045085523f, 0.13005458f) * go_1(1.0f, 0.0f);
    result += mat4(-0.013383197f, -0.064526096f, 0.049046878f, 0.015992291f, 0.123987064f, 0.0104690585f, 0.07065378f, -0.009824511f, -0.036109775f, 0.13384768f, 0.29676288f, -0.39475223f, -0.009368096f, -0.05666906f, -0.09132696f, -0.082638375f) * go_1(1.0f, 1.0f);
    result += vec4(-0.106538564f, -0.065693766f, -0.03790106f, 0.04776706f);
    return result;
}

void main() {
    color = hook();
}